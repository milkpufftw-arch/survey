import React, { useState } from 'react';

const App = () => {
    const [submitted, setSubmitted] = useState(false);
    const [jobTitleOther, setJobTitleOther] = useState("");
    const [isJobTitleOtherSelected, setIsJobTitleOtherSelected] = useState(false);

    // Google Form Action URL
    const GOOGLE_FORM_ACTION = "https://docs.google.com/forms/u/0/d/e/1FAIpQLSdS2jA3Wl9--Fd9Ep_J_jmYsbqHiqpEkaMmfxPxZty-L25eLA/formResponse";

    // Submit Handler
    const handleSubmit = () => {
        setSubmitted(true);
    };

    const cssStyles = `
        @import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;500;700;800&display=swap');

        .clay-font-wrapper {
            font-family: 'M PLUS Rounded 1c', sans-serif;
            background-color: #FFF8E1; /* Pastel Cream Background */
            color: #333333;
            min-height: 100vh;
        }

        /* Claymorphism Utilities */
        .clay-card {
            background: #ffffff;
            border-radius: 2rem;
            box-shadow: 
                8px 8px 16px #d1c9b8, 
                -8px -8px 16px #ffffff;
            border: 2px solid #fff;
        }

        .clay-input {
            background: #F0F4F8;
            border-radius: 1.5rem;
            box-shadow: 
                inset 6px 6px 10px #d9dce0, 
                inset -6px -6px 10px #ffffff;
            border: none;
            transition: all 0.2s ease;
        }
        
        .clay-input:focus {
            outline: none;
            background: #E8F0FE;
            box-shadow: 
                inset 4px 4px 8px #c5cad3, 
                inset -4px -4px 8px #ffffff;
        }

        /* Custom Radio & Checkbox Styling */
        .clay-radio-label {
            cursor: pointer;
            transition: transform 0.1s;
        }
        .clay-radio-label:active {
            transform: scale(0.98);
        }
        
        .clay-radio-indicator {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #F0F4F8;
            box-shadow: inset 3px 3px 6px #d1d9e6, inset -3px -3px 6px #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            flex-shrink: 0;
        }
        
        .clay-radio-input:checked + .clay-radio-indicator {
            background: #FF6B6B; /* Toy Red */
            box-shadow: inset 2px 2px 5px rgba(0,0,0,0.2);
        }
        
        .clay-radio-input:checked + .clay-radio-indicator::after {
            content: '';
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: white;
        }

        .clay-checkbox-indicator {
            width: 24px;
            height: 24px;
            border-radius: 8px;
            background: #F0F4F8;
            box-shadow: inset 3px 3px 6px #d1d9e6, inset -3px -3px 6px #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            flex-shrink: 0;
        }

        .clay-checkbox-input:checked + .clay-checkbox-indicator {
            background: #4ECDC4; /* Toy Teal */
            box-shadow: inset 2px 2px 5px rgba(0,0,0,0.2);
        }

        .clay-checkbox-input:checked + .clay-checkbox-indicator::after {
            content: 'âœ”';
            color: white;
            font-size: 14px;
            font-weight: bold;
        }

        /* 3D Button */
        .clay-btn {
            background: #FFD166; /* Toy Yellow */
            color: #333;
            border-radius: 1.5rem;
            border: none;
            font-weight: 800;
            box-shadow: 
                6px 6px 12px #d4b06e, 
                -6px -6px 12px #ffe69e;
            transition: all 0.2s ease;
            transform: translateY(0);
        }
        
        .clay-btn:hover {
            transform: translateY(-2px);
            box-shadow: 
                8px 8px 16px #d4b06e, 
                -8px -8px 16px #ffe69e;
            background: #FFDA85;
        }
        
        .clay-btn:active {
            transform: translateY(2px);
            box-shadow: 
                2px 2px 4px #d4b06e, 
                -2px -2px 4px #ffe69e;
        }

        /* Animations */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .floating {
            animation: float 6s ease-in-out infinite;
        }

        /* Decorative Elements */
        .blob {
            position: fixed;
            z-index: 0;
            filter: blur(40px);
            opacity: 0.6;
        }

        .other-input-container {
            transition: max-height 0.3s ease, opacity 0.3s ease;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }
        
        .other-input-container.open {
            max-height: 60px;
            opacity: 1;
            margin-top: 10px;
        }
    `;

    if (submitted) {
        return (
            <div className="clay-font-wrapper flex items-center justify-center p-4">
                <style>{cssStyles}</style>
                <div className="clay-card p-10 max-w-lg w-full text-center floating z-10">
                    <div className="text-6xl mb-6">ğŸ‰</div>
                    <h1 className="text-3xl font-extrabold text-[#FF6B6B] mb-4">æ”¶åˆ°æ‚¨çš„å›è¦†å›‰ï¼</h1>
                    <p className="text-lg text-gray-600 mb-8">æ„Ÿè¬æ‚¨æ’¥ç©ºå¡«å¯«ï¼Œæˆ‘å€‘éå¸¸æœŸå¾…èˆ‡æ‚¨åœ¨åœ˜ç£ç›¸è¦‹ï¼</p>
                    <button 
                        onClick={() => window.location.reload()} 
                        className="clay-btn py-3 px-8 text-lg w-full cursor-pointer"
                    >
                        å¡«å¯«å¦ä¸€ä»½
                    </button>
                </div>
            </div>
        );
    }

    return (
        <div className="clay-font-wrapper py-10 px-4 relative overflow-hidden">
            <style>{cssStyles}</style>
            
            {/* Background Blobs */}
            <div className="blob bg-[#FFD166] w-96 h-96 rounded-full top-0 left-[-100px]"></div>
            <div className="blob bg-[#FF6B6B] w-80 h-80 rounded-full bottom-0 right-[-50px]"></div>
            <div className="blob bg-[#4ECDC4] w-64 h-64 rounded-full top-[40%] right-[10%]"></div>

            <div className="max-w-3xl mx-auto relative z-10">
                
                {/* Header */}
                <div className="clay-card p-8 mb-8 text-center relative z-10 border-t-8 border-[#FF6B6B]">
                    <h1 className="text-2xl md:text-3xl font-extrabold mb-4 text-[#333] leading-relaxed">
                        ç¬¬ä¸€ç·šä¸»ç®¡ç¤¾æœƒå·¥ä½œç£å°<br/>
                        <span className="text-[#FF6B6B]">å…±å­¸èˆ‡æ”¯æŒåœ˜é«”</span>ï½œäº‹å‰éœ€æ±‚èª¿æŸ¥å•å·
                    </h1>
                    <div className="w-16 h-2 bg-[#FFD166] rounded-full mx-auto mb-6"></div>
                    <p className="text-gray-600 text-left leading-7">
                        å¤§å®¶å¥½ â˜ï¸ <br/>
                        æœ¬å•å·æ—¨åœ¨äº†è§£ç¬¬ä¸€ç·šä¸»ç®¡å°ç¤¾æœƒå·¥ä½œç£å°åœ˜é«”ä¹‹æœŸå¾…èˆ‡éœ€æ±‚ï¼Œä½œç‚ºåœ˜ç£ä¸»é¡Œèˆ‡é€²è¡Œæ–¹å¼è¦åŠƒä¾æ“šã€‚
                        å¡«ç­”å…§å®¹åƒ…ä½œæ•´é«”åˆ†æï¼Œä¸ä½œå€‹åˆ¥è©•æ ¸ï¼Œè«‹å®‰å¿ƒå¡«å¯«ï¼ âœ¨
                    </p>
                </div>

                {/* Form */}
                <form 
                    action={GOOGLE_FORM_ACTION} 
                    method="POST" 
                    target="hidden_iframe" 
                    onSubmit={handleSubmit}
                    className="space-y-6"
                >
                    {/* 1. Name */}
                    <div className="clay-card p-6 md:p-8">
                        <label className="block text-lg font-bold mb-4 text-[#4ECDC4]">
                            âœï¸ å§“å
                            <span className="text-[#FF6B6B] ml-1">*</span>
                        </label>
                        <input 
                            type="text" 
                            name="entry.715218846" 
                            required 
                            className="clay-input w-full p-4 text-lg"
                            placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å"
                        />
                    </div>

                    {/* 2. Job Title */}
                    <div className="clay-card p-6 md:p-8">
                        <label className="block text-lg font-bold mb-4 text-[#4ECDC4]">
                            1ï¸âƒ£ æ‚¨ç›®å‰çš„è·ç¨±
                            <span className="text-[#FF6B6B] ml-1">*</span>
                        </label>
                        <div className="space-y-3">
                            <label className="flex items-center clay-radio-label">
                                <input 
                                    type="radio" 
                                    name="entry.1078097171" 
                                    value="ç£å°" 
                                    className="hidden clay-radio-input" 
                                    required 
                                    onChange={() => setIsJobTitleOtherSelected(false)}
                                />
                                <div className="clay-radio-indicator"></div>
                                <span className="text-lg">ç£å°</span>
                            </label>
                            <label className="flex items-center clay-radio-label">
                                <input 
                                    type="radio" 
                                    name="entry.1078097171" 
                                    value="çµ„é•·" 
                                    className="hidden clay-radio-input"
                                    onChange={() => setIsJobTitleOtherSelected(false)}
                                />
                                <div className="clay-radio-indicator"></div>
                                <span className="text-lg">çµ„é•·</span>
                            </label>
                            <label className="flex items-center clay-radio-label">
                                <input 
                                    type="radio" 
                                    name="entry.1078097171" 
                                    value="__other_option__" 
                                    className="hidden clay-radio-input"
                                    onChange={() => setIsJobTitleOtherSelected(true)}
                                />
                                <div className="clay-radio-indicator"></div>
                                <span className="text-lg">å…¶ä»–</span>
                            </label>
                            <div className={`other-input-container ${isJobTitleOtherSelected ? 'open' : ''}`}>
                                <input 
                                    type="text" 
                                    name="entry.1078097171.other_option_response" 
                                    className="clay-input w-full p-3 ml-8 w-[calc(100%-2rem)]"
                                    placeholder="è«‹è¼¸å…¥å…¶ä»–è·ç¨±"
                                    disabled={!isJobTitleOtherSelected}
                                    required={isJobTitleOtherSelected}
                                />
                            </div>
                        </div>
                    </div>

                    {/* 3. Years of Service */}
                    <div className="clay-card p-6 md:p-8">
                        <label className="block text-lg font-bold mb-4 text-[#4ECDC4]">
                            2ï¸âƒ£ æ‚¨æ“”ä»»ä¸»ç®¡å¹´è³‡
                            <span className="text-[#FF6B6B] ml-1">*</span>
                        </label>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                            {["æœªæ»¿ 1 å¹´", "1â€“3 å¹´", "3â€“5 å¹´", "5 å¹´ä»¥ä¸Š"].map((opt, idx) => (
                                <label key={idx} className="flex items-center clay-radio-label p-2">
                                    <input type="radio" name="entry.141139847" value={opt} className="hidden clay-radio-input" required />
                                    <div className="clay-radio-indicator"></div>
                                    <span className="text-lg">{opt}</span>
                                </label>
                            ))}
                        </div>
                    </div>

                    {/* 4. Draining Aspect */}
                    <div className="clay-card p-6 md:p-8">
                        <label className="block text-lg font-bold mb-4 text-[#4ECDC4]">
                            3ï¸âƒ£ ç›®å‰åœ¨ç£å°è§’è‰²ä¸­ï¼Œæ‚¨æ„Ÿåˆ°æœ€è€—èƒ½çš„æ˜¯ï¼ˆå¯è¤‡é¸ï¼‰
                            <span className="text-[#FF6B6B] ml-1">*</span>
                        </label>
                        <div className="space-y-3">
                            {["è¡Œæ”¿èˆ‡åˆ¶åº¦è²¬ä¿¡", "æ”¯æŒç¤¾å·¥æƒ…ç·’èˆ‡ç‹€æ…‹", "å°ˆæ¥­åˆ¤æ–·èˆ‡é¢¨éšªæ‹¿æ", "ä¸Šä¸‹æºé€šèˆ‡ä¸­ä»‹è§’è‰²", "äººåŠ›ä¸è¶³èˆ‡æ™‚é–“å£“åŠ›"].map((opt, idx) => (
                                <label key={idx} className="flex items-center clay-radio-label cursor-pointer hover:bg-white/50 rounded-xl p-1 transition">
                                    <input type="checkbox" name="entry.2085590103" value={opt} className="hidden clay-checkbox-input" />
                                    <div className="clay-checkbox-indicator"></div>
                                    <span className="text-lg">{opt}</span>
                                </label>
                            ))}
                        </div>
                    </div>

                    {/* 5. Role Clarity */}
                    <div className="clay-card p-6 md:p-8">
                        <label className="block text-lg font-bold mb-4 text-[#4ECDC4]">
                            4ï¸âƒ£ æ‚¨ç›®å‰å°è‡ªå·±ã€Œç£å°è§’è‰²æ¸…æ™°åº¦ã€çš„æ„Ÿå—
                            <span className="text-[#FF6B6B] ml-1">*</span>
                        </label>
                        <div className="space-y-3">
                            {["éå¸¸ä¸æ¸…æ¥š", "æœ‰æ™‚æ¸…æ¥šã€æœ‰æ™‚æ··äº‚", "å¤§è‡´æ¸…æ¥š", "éå¸¸æ¸…æ¥š"].map((opt, idx) => (
                                <label key={idx} className="flex items-center clay-radio-label">
                                    <input type="radio" name="entry.358792550" value={opt} className="hidden clay-radio-input" required />
                                    <div className="clay-radio-indicator"></div>
                                    <span className="text-lg">{opt}</span>
                                </label>
                            ))}
                        </div>
                    </div>

                    {/* 6. Expectations (Pick 2) */}
                    <div className="clay-card p-6 md:p-8">
                        <label className="block text-lg font-bold mb-4 text-[#4ECDC4]">
                            5ï¸âƒ£ åƒèˆ‡æœ¬æ¬¡ç£å°åœ˜é«”ï¼Œæ‚¨æœ€æœŸå¾…ç²å¾—çš„æ˜¯
                            <span className="text-sm font-normal text-gray-500 ml-2">ï¼ˆè«‹é¸ 2 é …ï¼‰</span>
                            <span className="text-[#FF6B6B] ml-1">*</span>
                        </label>
                        <div className="space-y-3">
                            {["ç£å°æ¦‚å¿µèˆ‡åˆ¤æ–·æ¶æ§‹", "å¯¦å‹™æ¡ˆä¾‹è¨è«–", "è¡Œæ”¿åˆ¶åº¦è¨è«–èˆ‡å›é¥‹", "è·¨å€ç¶“é©—äº¤æµ", "è¢«æ”¯æŒèˆ‡è¢«ç†è§£çš„ç©ºé–“"].map((opt, idx) => (
                                <label key={idx} className="flex items-center clay-radio-label cursor-pointer hover:bg-white/50 rounded-xl p-1 transition">
                                    <input type="checkbox" name="entry.1493443325" value={opt} className="hidden clay-checkbox-input" />
                                    <div className="clay-checkbox-indicator"></div>
                                    <span className="text-lg">{opt}</span>
                                </label>
                            ))}
                        </div>
                    </div>

                    {/* 7. Preferred Style */}
                    <div className="clay-card p-6 md:p-8">
                        <label className="block text-lg font-bold mb-4 text-[#4ECDC4]">
                            6ï¸âƒ£ æ‚¨è¼ƒèƒ½æ¥å—çš„åœ˜ç£æ–¹å¼
                            <span className="text-[#FF6B6B] ml-1">*</span>
                        </label>
                        <div className="space-y-3">
                            {["æœ‰æ¸…æ¥šæ¶æ§‹èˆ‡å¼•å°", "å½ˆæ€§è¨è«–ç‚ºä¸»", "æ¶æ§‹èˆ‡å½ˆæ€§ä¸¦è¡Œ"].map((opt, idx) => (
                                <label key={idx} className="flex items-center clay-radio-label">
                                    <input type="radio" name="entry.2146426027" value={opt} className="hidden clay-radio-input" required />
                                    <div className="clay-radio-indicator"></div>
                                    <span className="text-lg">{opt}</span>
                                </label>
                            ))}
                        </div>
                    </div>

                    {/* 8. Stuck Point */}
                    <div className="clay-card p-6 md:p-8">
                        <label className="block text-lg font-bold mb-4 text-[#4ECDC4]">
                            7ï¸âƒ£ è«‹ç”¨ä¸€å¥è©±å½¢å®¹ï¼Œæ‚¨ç›®å‰åœ¨ç£å°å·¥ä½œä¸­ã€Œæœ€å¡ä½çš„åœ°æ–¹ã€æ˜¯ä»€éº¼ï¼Ÿ
                            <span className="text-[#FF6B6B] ml-1">*</span>
                        </label>
                        <textarea 
                            name="entry.1378578368" 
                            rows="3" 
                            required
                            className="clay-input w-full p-4 text-lg resize-none"
                            placeholder="ä¾‹å¦‚ï¼šä¸çŸ¥é“å¦‚ä½•è™•ç†åŒä»çš„æƒ…ç·’..."
                        ></textarea>
                    </div>

                    {/* 9. Clarification */}
                    <div className="clay-card p-6 md:p-8">
                        <label className="block text-lg font-bold mb-4 text-[#4ECDC4]">
                            8ï¸âƒ£ è‹¥æœ¬åœ˜ç£èƒ½å”åŠ©æ‚¨ã€Œé‡æ¸…ä¸€ä»¶äº‹ã€ï¼Œæ‚¨æœ€å¸Œæœ›æ˜¯å“ªä¸€ä»¶ï¼Ÿ
                            <span className="text-[#FF6B6B] ml-1">*</span>
                        </label>
                        <textarea 
                            name="entry.1436316625" 
                            rows="3" 
                            required
                            className="clay-input w-full p-4 text-lg resize-none"
                            placeholder="ä¾‹å¦‚ï¼šå¦‚ä½•è¨­ç«‹ç•Œç·š..."
                        ></textarea>
                    </div>

                    {/* 10. Other Suggestions */}
                    <div className="clay-card p-6 md:p-8">
                        <label className="block text-lg font-bold mb-4 text-[#4ECDC4]">
                            9ï¸âƒ£ å°æœ¬æ¬¡ç·šä¸Šç£å°åœ˜é«”ï¼Œæ‚¨æ˜¯å¦æœ‰å…¶ä»–æœŸå¾…æˆ–æé†’ï¼Ÿ
                        </label>
                        <textarea 
                            name="entry.1307003244" 
                            rows="3" 
                            className="clay-input w-full p-4 text-lg resize-none"
                            placeholder="æ­¡è¿åˆ†äº«æ‚¨çš„æƒ³æ³•..."
                        ></textarea>
                    </div>

                    {/* 11. Meeting Time */}
                    <div className="clay-card p-6 md:p-8">
                        <label className="block text-lg font-bold mb-4 text-[#4ECDC4]">
                            ğŸ•’ ç¬¬ä¸€æ¬¡è¦‹é¢çš„æ™‚é–“ 14:00-16:00
                            <span className="text-[#FF6B6B] ml-1">*</span>
                        </label>
                        <div className="flex flex-wrap gap-4">
                            {["3/6", "3/9", "3/11"].map((opt, idx) => (
                                <label key={idx} className="flex items-center clay-radio-label bg-[#FDF6E3] px-4 py-2 rounded-2xl shadow-sm border border-transparent hover:border-[#FFD166] transition">
                                    <input type="checkbox" name="entry.1587939563" value={opt} className="hidden clay-checkbox-input" />
                                    <div className="clay-checkbox-indicator"></div>
                                    <span className="text-lg font-bold">{opt}</span>
                                </label>
                            ))}
                        </div>
                    </div>

                    {/* Hidden Fields required by Google Forms */}
                    <input type="hidden" name="fvv" value="1" />
                    <input type="hidden" name="fbzx" value="4104165169933466970" />
                    <input type="hidden" name="pageHistory" value="0" />

                    {/* Submit Button */}
                    <div className="text-center pt-6 pb-20">
                        <button type="submit" className="clay-btn text-2xl py-4 px-12 w-full md:w-auto md:min-w-[300px] cursor-pointer">
                            é€å‡ºå•å· ğŸš€
                        </button>
                    </div>
                </form>
            </div>

            {/* Hidden iframe for submission */}
            <iframe 
                name="hidden_iframe" 
                id="hidden_iframe" 
                style={{display: "none"}} 
            ></iframe>
        </div>
    );
};

export default App;